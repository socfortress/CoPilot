<template>
	<Badge :color="getSeverityColor(severity)" type="splitted" bright>
		<template #iconLeft>
			<VulnerabilitySeverityIcon :severity :size="14" />
		</template>
		<template #value>{{ severity }}</template>
	</Badge>
</template>

<script setup lang="ts">
import type { BadgeColor } from "@/components/common/Badge.vue"
import Badge from "@/components/common/Badge.vue"
import { VulnerabilitySeverity } from "@/types/vulnerabilities.d"
import VulnerabilitySeverityIcon from "./VulnerabilitySeverityIcon.vue"

const { severity } = defineProps<{ severity: VulnerabilitySeverity }>()

function getSeverityColor(severity: string): BadgeColor | undefined {
	const colorMap: Record<string, BadgeColor | undefined> = {
		[VulnerabilitySeverity.Critical]: "danger",
		[VulnerabilitySeverity.High]: "warning",
		[VulnerabilitySeverity.Medium]: "warning",
		[VulnerabilitySeverity.Low]: undefined
	}
	return colorMap[severity]
}
</script>
